The renormalization group equations describing a finite 2DXY system with fourfold anisotropy
are solved in two steps, in order to study the magnetic transition to paramagnetism in an ultrathin
film. First, the equations are linearized near the critical coupling $K=J/k_BT=2/\pi$. An exact
solution of the linearized equations confirms that a finite-size Kosterlitz-Thouless (KT) transition
occurs in the presence of weak fourfold anisotropy, and that an Ising transition occurs for strong
anisotropy. The behaviour of a given system is determined by the product of an anisotropy parameter
and the logarithm of the system size. The linearized RG equations are not quantitatively reliable
across the full temperature range of the finite-size transition, but they define the parameter
space where a second approach, where the fourfold anisotropy is treated as a perturbation, is valid.
This perturbative treatment provides a quantitative determination of the renormalized exchange
coupling, vortex density, and anisotropy throughout the transition. In particular, the coupling
has a universal point of inflection where vortex-antivortex pairs unbind (as opposed to a "universal
jump"), and goes to zero asymptotically in the paramagnetic state, as is expected for a finite system.
These results are used to calculate the magnetic susceptibility as the system moves from one dominated
by spin waves to one dominated by a free vortex gas. The presence of anisotropy makes it necessary
to include both the susceptibility $\chi_{||}$ due to fluctuations of the magnitude of the magnetization,
and $\chi_\perp$ due to angular fluctuations of the magnetization about a fourfold easy axis. A
comparison to recent measurements of the magnetic susceptibility of ultrathin Fe/W(001) films
is very encouraging. 