Many processes in cell biology involve diffusion in a domain $\Omega$ that contains a target $\calU$
whose boundary $\partial \calU$ is a chemically reactive surface. Such a target could represent
a single reactive molecule, an intracellular compartment or a whole cell. Recently, a probabilistic
framework for studying diffusion-mediated surface reactions has been developed that considers
the joint probability density or propagator for the particle position and the so-called boundary
local time. The latter characterizes the amount of time that a Brownian particle spends in the neighborhood
of a point on a totally reflecting boundary. The effects of surface reactions are then incorporated
via an appropriate stopping condition for the boundary local time. In this paper we generalize the
theory of diffusion-mediated surface reactions to cases where the whole interior target domain
$\calU$ acts as a partial absorber rather than the target boundary $\partial \calU$. Now the particle
can freely enter and exit $\calU$, and is only able to react (be absorbed) within $\calU$. The appropriate
Brownian functional is then the occupation time (accumulated time that the particle spends within
$\calU$) rather than the boundary local time. We show that both cases can be considered within a unified
framework by using a Feynman-Kac formula to derive a boundary value problem (BVP) for the propagator
of the corresponding Brownian functional, and introducing an associated stopping condition.
We illustrate the theory by calculating the mean first passage time (MFPT) for a spherical target
$\calU$ located at the center of a spherical domain $\Omega$. This is achieved by solving the propagator
BVP directly, rather than using spectral methods. We find that if the first moment of the stopping
time density is infinite, then the MFPT is also infinite, that is, the spherical target is not sufficiently
absorbing. 