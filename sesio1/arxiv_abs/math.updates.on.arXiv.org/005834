In 1965, B. A. Troesch solved the isoperimetric sloshing problem of determining the container shape
that maximizes the fundamental sloshing frequency among two classes of shallow containers: symmetric
canals with a given free surface width and cross-sectional area, and radially-symmetric containers
with a given rim radius and volume [doi:10.1002/cpa.3160180124]. Here, we extend these results
in two ways: (i) we consider surface tension effects on the fluid free surface, assuming a flat equilibrium
free surface together with a pinned contact line, and (ii) we consider traveling sinusoidal waves
on the canal, which introduces the wavenumber $\alpha\ge 0$ as an additional parameter. Generalizing
our recent variational characterization of fluid sloshing with surface tension to the case of a
pinned contact line, we derive the pinned-edge linear shallow sloshing problem, which is an eigenvalue
problem for a generalized Sturm-Liouville system. For shallow canals, we show that a maximizing
cross-section exists for particular values of $\alpha$ within a particular class in the presence
or absence of surface tension and establish convergence of the optimal cross-sections, as the wavenumber
vanishes, to the optimal cross-sections for $\alpha = 0$. For shallow radially-symmetric containers
with $m$ azimuthal nodal lines, we solve for the maximizing cross-section for $m = 0, 1$. All maximizing
container shapes are found explicitly and we establish convergence of the optimal cross-sections,
as surface tension vanishes, to the optimal cross-sections without surface tension. These maximizing
container shapes in the presence of surface tension are not convex and flatten near the contact points.
In particular, our results reveal that the maximal sloshing frequency increases considerably
as surface tension increases. 