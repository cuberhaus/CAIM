In 1965, B. A. Troesch solved the isoperimetric sloshing problem of determining the container shape
that maximizes the fundamental sloshing frequency among two classes of shallow containers: symmetric
canals with a given free surface width and cross-sectional area, and radially symmetric containers
with a given rim radius and volume [doi:10.1002/cpa.3160180124]. Here, we extend these results
in two ways: (i) we consider surface tension effects on the fluid free surface, assuming a flat equilibrium
free surface together with a pinned contact line, and (ii) we consider sinusoidal waves traveling
along the canal with wavenumber $\alpha\ge 0$ and spatial period $2\pi/\alpha$; two-dimensional
sloshing corresponds to the case $\alpha = 0$. Generalizing our recent variational characterization
of fluid sloshing with surface tension to the case of a pinned contact line, we derive the pinned-edge
linear shallow sloshing problem, which is an eigenvalue problem for a generalized Sturm-Liouville
system. In the case without surface tension, we show that the optimal shallow canal is a rectangular
canal for any $\alpha > 0$. In the presence of surface tension, we solve for the maximizing cross-section
explicitly for shallow canals with any given $\alpha\ge 0$ and shallow radially symmetric containers
with $m$ azimuthal nodal lines, $m = 0, 1$. Our results reveal that the squared maximal sloshing frequency
increases considerably as surface tension increases. Interestingly, both the optimal shallow
canal for $\alpha = 0$ and the optimal shallow radially symmetric container are not convex. As a consequence
of our explicit solutions, we establish convergence of the maximizing cross-sections, as surface
tension vanishes, to the maximizing cross-sections without surface tension. 