Free-space ground-to-ground links will be an integral part of future quantum communication networks.
The implementation of free-space and fiber links in an inter-modal configuration is however still
hard to achieve, due to the impact of atmospheric turbulence in the channel which strongly decreases
the coupling efficiency into the fiber. In this work, we present a comprehensive model of the performance
of a free-space ground-to-ground quantum key distribution (QKD) system based on the efficient-BB84
protocol with active decoy states. Our model takes into account the atmospheric channel contribution,
the transmitter and receiver telescope design constraints, the parameters of the quantum source
and detectors, and the finite-key analysis to produce a set of requirements and optimal design choices
for a QKD system operating under specific channel conditions. The channel attenuation is calculated
considering all effects deriving from the atmospheric propagation: absorption, beam broadening,
beam wandering, scintillation, and wavefront distortions. We include the effect of fiber-coupling
in the presence of a partial adaptive correction with finite control bandwidth to calculate the
channel attenuation and its statistics. We find that the channel probability distribution must
be considered to correctly estimate the effect of a finite efficiency and saturation rate of the
single-photon detectors, which may lead to an overestimation of the secret key rate. We further
present strategies to minimize the expected error rate by optimal spectral filtering and time gating
on the signal, which reduces the the amount of diffuse atmospheric background coupled into the receiver
in daylight operation, as well as minimizes the impact of temporal jitter of the pulses. 