The NASA InSight Lander on Mars includes the Heat Flow and Physical Properties Package HP$^3$ to
measure the surface heat flow of the planet. The package uses temperature sensors that would have
been brought to the target depth of 3--5 m by a small penetrator, nicknamed the mole. The mole requiring
friction on its hull to balance remaining recoil from its hammer mechanism did not penetrate to the
targeted depth. Instead, by precessing about a point midway along its hull, it carved a 7 cm deep and
5-6 cm wide pit and reached a depth of initially 31 cm. The root cause of the failure - as was determined
through an extensive, almost two years long campaign - was a lack of friction in an unexpectedly thick
cohesive duricrust. During the campaign -- described in detail in this paper -- the mole penetrated
further aided by friction applied using the scoop at the end of the robotic Instrument Deployment
Arm and by direct support by the latter. The mole finally reached a depth of 40 cm, bringing the mole
body 1--2 cm below the surface. The penetration record of the mole and its thermal sensors were used
to measure thermal and mechanical soil parameters such as the thermal conductivity and the penetration
resistance of the duricrust and its cohesion. The hammerings of the mole were recorded by the seismometer
SEIS and the signals could be used to derive a P-wave velocity and a S-wave velocity and elastic moduli
representative of the topmost tens of cm of the regolith. The combined data were used to derive a model
of the regolith that has an about 20 cm thick duricrust underneath a 1 cm thick unconsolidated layer
of sand mixed with dust and above another 10 cm of unconsolidated sand. Underneath the latter, a layer
more resistant to penetration and possibly consisting of debris from a small impact crater is inferred.
