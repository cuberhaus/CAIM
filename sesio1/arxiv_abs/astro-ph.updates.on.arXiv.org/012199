We use the COSMOS2020 catalogue to measure the stellar-to-halo mass relation (SHMR) divided by
central and satellite galaxies from $z=0.2$ to $z = 5.5$. Starting from accurate photometric redshifts
we measure the near-infrared selected two-point angular correlation and stellar mass functions
in ten redshift bins and fit them with an HOD-based model. At each redshift, we measure the ratio of
stellar mass to halo mass, $M_*/M_h$, which shows the characteristic strong dependence of halo
mass with a peak at $M_h^{\rm peak} \sim 2$. Our results are in accordance with the scenario in which
the peak of star-formation efficiency moves towards more massive halos at higher redshifts. We
also measure the fraction of satellites as a function of stellar mass and redshift. For all stellar
mass thresholds the satellite fraction decreases at higher redshifts. At a given redshift there
is a higher fraction of low-mass satellites. The satellite contribution to the total stellar mass
budget in halos becomes more important than centrals at halo masses of about $M_h > 10^{13} \, M_{\odot}$
and always stays below by peak, indicating that quenching mechanisms are present in massive halos
that keep the star-formation efficiency low. Finally, we compare our results with three hydrodynamical
simulations Horizon-AGN, Illustris-TNG-100 and EAGLE. We find that the most significant discrepancy
is at the high mass end, where the simulations generally show that satellites have a higher contribution
to the total stellar mass budget than the observations. This, together with the finding that the
fraction of satellites is higher in the simulations, indicates that the feedback mechanisms acting
in group-and cluster-scale halos appear to be less efficient in quenching the mass assembly of satellites,
and/or that quenching occurs much later in the simulations. 