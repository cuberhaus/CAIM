Wind-fed high-mass X-ray binaries are powered by accretion of the radiatively driven wind on the
compact star. Accretion-generated X-rays alter the ionization state of the wind. Because higher
ionization states drive the wind less effectively, X-ray ionization may brake acceleration of
the wind. This causes a decrease in the wind terminal velocity and mass flux in the direction toward
the X-ray source. We study the effect of X-ray ionization on the stellar wind of B supergiants. We
determine the binary parameters for which the X-ray irradiation significantly influences the
stellar wind. This can be studied in diagrams that plot the optical depth parameter versus the X-ray
luminosity. For low optical depths or for high X-ray luminosities, X-ray ionization leads to a disruption
in the wind aimed toward the X-ray source. Observational parameters of high-mass X-ray binaries
with B-supergiant components appear outside the wind disruption zone. The X-ray feedback determines
the resulting X-ray luminosity. For low X-ray luminosities, ionization is weak, and the wind is
not disrupted by X-rays and flows at large velocities, consequently the accretion rate is relatively
low. On the other hand, for high X-ray luminosities, the X-ray ionization disrupts the flow braking
the acceleration, the wind velocity is low, and the accretion rate becomes high. These effects determine
the X-ray luminosity of individual binaries. Accounting for the X-ray feedback, estimated X-ray
luminosities reasonably agree with observational values. We study the effect of small-scale wind
inhomogeneities, showing that they weaken the effect of X-ray ionization by increasing recombination
and the mass-loss. This effect is particularly important in the region of the bistability jump.
We show that ultraluminous X-ray binaries with $L_x<10^{40}$ erg/s may be powered by accretion
of a B-supergiant wind on a massive black hole. 