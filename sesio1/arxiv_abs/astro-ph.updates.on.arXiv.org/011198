Gamma-ray emission during long-duration gamma-ray flare (LDGRF) events is thought to be caused
mainly by $>$300 MeV protons interacting with the ambient plasma at or near the photosphere. Prolonged
periods of the gamma-ray emission have prompted the suggestion that the source of the energetic
protons is acceleration at a coronal mass ejection (CME)-driven shock, followed by particle back-precipitation
onto the solar atmosphere over extended times. We study the latter hypothesis using test particle
simulations, which allow us to investigate whether scattering associated with turbulence aids
particles in overcoming the effect of magnetic mirroring, which impedes back-precipitation by
reflecting particles as they travel sunwards. The instantaneous precipitation fraction, $P$,
the proportion of protons that successfully precipitate for injection at a fixed height, $r_i$,
is studied as a function of scattering mean free path, $\lambda$ and $r_i$. Upper limits to the total
precipitation fraction, $\overline{P}$, were calculated for eight LDGRF events for moderate
scattering conditions ($\lambda$=0.1 au). We find that the presence of scattering helps back-precipitation
compared to the scatter-free case, although at very low $\lambda$ values outward convection with
the solar wind ultimately dominates. For eight LDGRF events, due to strong mirroring, $\overline{P}$
is very small, between 0.56 and 0.93% even in the presence of scattering. Time-extended acceleration
and large total precipitation fractions, as seen in the observations, cannot be reconciled for
a moving shock source according to our simulations. Therefore, it is not possible to obtain both
long duration $\gamma$ ray emission and efficient precipitation within this scenario. These results
challenge the CME shock source scenario as the main mechanism for $\gamma$ ray production in LDGRFs.
