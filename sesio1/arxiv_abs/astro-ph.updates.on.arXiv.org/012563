We carried out a cyanopolyyne line survey towards a large sample of HMSFRs using the Shanghai Tian
Ma 65m Radio Telescope (TMRT). Our sample consisted of 123 targets taken from the TMRT C band line
survey. It included three kinds of sources, namely those with detection of the 6.7 GHz CH3OH maser
alone, with detection of the radio recombination line (RRL) alone, and with detection of both (hereafter
referred to as Maser-only, RRL-only, and Maser-RRL sources, respectively). We detected HC3N in
38 sources, HC5N in 11 sources, and HC7N in G24.790+0.084, with the highest detection rate being
found for Maser-RRL sources and a very low detection rate found for RRL-only sources. Their column
densities were derived using the rotational temperature measured from the NH3 lines. And we constructed
and fitted the far-infrared (FIR) spectral energy distributions. Based on these, we derive their
dust temperatures, H2 column densities, and abundances of cyanopolyynes relative to H2. The detection
rate, the column density, and the relative abundance of HC3N increase from Maser-only to Maser-RRL
sources and decrease from Maser-RRL to RRL-only sources. This trend is consistent with the proposed
evolutionary trend of HC3N under the assumption that our Maser-only, Maser-RRL, and RRL-only sources
correspond to massive young stellar objects, ultra-compact HII regions, and normal classical
HII regions, respectively. Furthermore, a statistical analysis of the integrated line intensity
and column density of HC3N and shock-tracing molecules (SiO, H2CO) enabled us to find positive correlations
between them. This suggests that HC3N may be another tracer of shocks, and should therefore be the
subject of further observations and corresponding chemical simulations. Our results indirectly
support the idea that the neutral--neutral reaction between C2H2 and CN is the dominant formation
pathway of HC3N. 